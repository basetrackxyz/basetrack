<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BaseTrack AI - Your Onchain Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        base: {
                            900: '#0f172a',
                            800: '#1e293b',
                            700: '#334155',
                            600: '#475569',
                            500: '#64748b',
                            400: '#94a3b8',
                            300: '#cbd5e1',
                            200: '#e2e8f0',
                            100: '#f8fafc'
                        },
                        primary: {
                            500: '#00f5a8',
                            600: '#00d992'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f8fafc;
            min-height: 100vh;
        }
        .message-bubble {
            animation: fadeIn 0.3s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .typing-indicator {
            display: inline-block;
            width: 4px;
            height: 4px;
            background-color: #00f5a8;
            border-radius: 50%;
            margin: 0 2px;
            animation: typing 1.4s infinite ease-in-out;
        }
        .typing-indicator:nth-child(1) { animation-delay: 0s; }
        .typing-indicator:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .connect-button {
            background: linear-gradient(135deg, #00f5a8 0%, #00d992 100%);
            transition: all 0.3s ease;
        }
        .connect-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 245, 168, 0.3);
        }
        .quest-card {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.2);
            transition: all 0.3s ease;
        }
        .quest-card:hover {
            transform: translateY(-2px);
            border-color: rgba(0, 245, 168, 0.3);
        }
    </style>
</head>
<body class="min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <header class="flex items-center justify-between mb-8">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg flex items-center justify-center">
                    <i class="fas fa-robot text-base-900 text-xl"></i>
                </div>
                <div>
                    <h1 class="text-2xl font-bold">BaseTrack AI</h1>
                    <p class="text-base-400 text-sm">Your onchain assistant for Base ecosystem</p>
                </div>
            </div>
            <button id="connectWalletBtn" class="connect-button px-6 py-2 rounded-lg font-semibold text-base-900 hover:shadow-lg transition-all duration-300">
                <i class="fas fa-wallet mr-2"></i>Connect Wallet
            </button>
        </header>

        <!-- Chat Interface -->
        <div class="bg-base-800 rounded-2xl p-6 mb-6 h-96 overflow-y-auto" id="chatContainer">
            <!-- Welcome Message -->
            <div class="message-bubble mb-4">
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-robot text-base-900 text-sm"></i>
                    </div>
                    <div class="quest-card p-4 rounded-xl">
                        <p class="text-base-100">Hello! I'm BaseTrack AI, your onchain assistant for the Base ecosystem. ðŸ’¡</p>
                        <p class="text-base-300 mt-2">I can help you with:</p>
                        <ul class="text-base-300 mt-2 space-y-1 text-sm">
                            <li>â€¢ Discover new quests and airdrops</li>
                            <li>â€¢ Check wallet eligibility</li>
                            <li>â€¢ Explain Base projects and tokens</li>
                            <li>â€¢ Track trending opportunities</li>
                        </ul>
                        <p class="text-base-300 mt-3">Try asking: "Show me 3 new quests on Base" or "Check if my wallet can claim anything"</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Input Area -->
        <div class="flex space-x-4">
            <input 
                type="text" 
                id="userInput" 
                placeholder="Ask about Base quests, airdrops, or projects..." 
                class="flex-1 bg-base-700 border border-base-600 rounded-xl px-4 py-3 text-base-100 placeholder-base-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                disabled
            >
            <button 
                id="sendBtn" 
                class="bg-gradient-to-r from-primary-500 to-primary-600 px-6 py-3 rounded-xl font-semibold text-base-900 hover:shadow-lg transition-all duration-300 disabled:opacity-50"
                disabled
            >
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>

        <!-- Sample Queries -->
        <div class="mt-6">
            <p class="text-base-400 text-sm mb-3">Try these examples:</p>
            <div class="flex flex-wrap gap-2">
                <button class="sample-query bg-base-700 hover:bg-base-600 px-3 py-2 rounded-lg text-sm text-base-200 transition-colors">Show me 3 new quests</button>
                <button class="sample-query bg-base-700 hover:bg-base-600 px-3 py-2 rounded-lg text-sm text-base-200 transition-colors">Check wallet eligibility</button>
                <button class="sample-query bg-base-700 hover:bg-base-600 px-3 py-2 rounded-lg text-sm text-base-200 transition-colors">Explain Onchain Summer</button>
                <button class="sample-query bg-base-700 hover:bg-base-600 px-3 py-2 rounded-lg text-sm text-base-200 transition-colors">Trending Base projects</button>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const chatContainer = document.getElementById('chatContainer');
        const userInput = document.getElementById('userInput');
        const sendBtn = document.getElementById('sendBtn');
        const connectWalletBtn = document.getElementById('connectWalletBtn');
        const sampleQueries = document.querySelectorAll('.sample-query');

        // Mock wallet state
        let walletConnected = false;
        let currentWalletAddress = '';

        // Connect Wallet Functionality
        connectWalletBtn.addEventListener('click', async () => {
            if (!walletConnected) {
                // Simulate wallet connection
                try {
                    // In a real app, this would use Web3Modal/Ethers.js
                    currentWalletAddress = '0x742d35Cc6634C0532925a3b8D4C9db96C0d5c8a1';
                    walletConnected = true;
                    
                    // Update UI
                    connectWalletBtn.innerHTML = `<i class="fas fa-check-circle mr-2"></i>${currentWalletAddress.slice(0, 6)}...${currentWalletAddress.slice(-4)}`;
                    connectWalletBtn.classList.remove('connect-button');
                    connectWalletBtn.classList.add('bg-green-500', 'hover:bg-green-600');
                    
                    // Enable input
                    userInput.disabled = false;
                    sendBtn.disabled = false;
                    
                    // Show welcome message for connected wallet
                    addMessage("Great! Your wallet is connected. What would you like to explore in the Base ecosystem?", 'ai');
                } catch (error) {
                    addMessage("Failed to connect wallet. Please try again.", 'ai');
                }
            }
        });

        // Send Message Functionality
        sendBtn.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Sample Query Click Handler
        sampleQueries.forEach(button => {
            button.addEventListener('click', () => {
                userInput.value = button.textContent;
                sendMessage();
            });
        });

        function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;

            // Add user message
            addMessage(message, 'user');
            userInput.value = '';

            // Show typing indicator
            showTypingIndicator();

            // Simulate AI response after delay
            setTimeout(() => {
                removeTypingIndicator();
                generateAIResponse(message);
            }, 1500);
        }

        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message-bubble mb-4';
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="flex items-start justify-end space-x-3">
                        <div class="quest-card p-4 rounded-xl max-w-xs lg:max-w-md">
                            <p class="text-base-100">${text}</p>
                        </div>
                        <div class="w-8 h-8 bg-base-600 rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-user text-base-300 text-sm"></i>
                        </div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-robot text-base-900 text-sm"></i>
                        </div>
                        <div class="quest-card p-4 rounded-xl max-w-xs lg:max-w-md">
                            <p class="text-base-100">${text}</p>
                        </div>
                    </div>
                `;
            }
            
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'message-bubble mb-4';
            typingDiv.innerHTML = `
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-robot text-base-900 text-sm"></i>
                    </div>
                    <div class="quest-card p-4 rounded-xl">
                        <div class="flex space-x-1">
                            <div class="typing-indicator"></div>
                            <div class="typing-indicator"></div>
                            <div class="typing-indicator"></div>
                        </div>
                    </div>
                </div>
            `;
            chatContainer.appendChild(typingDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function generateAIResponse(userMessage) {
            const message = userMessage.toLowerCase();
            
            if (message.includes('quest') || message.includes('quest')) {
                showQuestsResponse();
            } else if (message.includes('wallet') || message.includes('eligibility') || message.includes('claim')) {
                showEligibilityResponse();
            } else if (message.includes('onchain summer')) {
                showOnchainSummerResponse();
            } else if (message.includes('trending') || message.includes('project')) {
                showTrendingProjectsResponse();
            } else if (message.includes('explain') || message.includes('what is')) {
                showExplanationResponse();
            } else {
                addMessage("I'm here to help you navigate the Base ecosystem! Try asking about quests, airdrops, wallet eligibility, or Base projects. For example: 'Show me new quests' or 'Check if my wallet can claim anything'.", 'ai');
            }
        }

        function showQuestsResponse() {
            const quests = [
                {
                    title: "Galxe: Base Builders Quest",
                    platform: "Galxe",
                    reward: "500 GAL",
                    status: "Active",
                    link: "#"
                },
                {
                    title: "Layer3: Base Ecosystem Explorer",
                    platform: "Layer3",
                    reward: "NFT Badge + Points",
                    status: "Active",
                    link: "#"
                },
                {
                    title: "Onchain Summer: Base DeFi Challenge",
                    platform: "Onchain Summer",
                    reward: "Exclusive NFT",
                    status: "Ending Soon",
                    link: "#"
                }
            ];

            let response = "Here are 3 new quests on Base:\n\n";
            quests.forEach((quest, index) => {
                response += `${index + 1}. **${quest.title}**\n`;
                response += `   â€¢ Platform: ${quest.platform}\n`;
                response += `   â€¢ Reward: ${quest.reward}\n`;
                response += `   â€¢ Status: ${quest.status}\n\n`;
            });
            response += "Would you like me to check your eligibility for any of these?";
            
            addMessage(response, 'ai');
        }

        function showEligibilityResponse() {
            if (!walletConnected) {
                addMessage("Please connect your wallet first to check eligibility!", 'ai');
                return;
            }
            
            const eligibility = [
                "âœ… **Base Builders Quest** - Eligible! You've completed 3/5 required tasks",
                "ðŸŸ¡ **DeFi Explorer Badge** - Almost there! Complete 1 more swap on Base",
                "âŒ **NFT Collector Quest** - Not eligible yet. Mint 1 NFT on Base to qualify"
            ];
            
            let response = `I've checked your wallet **${currentWalletAddress.slice(0, 8)}...${currentWalletAddress.slice(-6)}**:\n\n`;
            response += eligibility.join('\n\n');
            response += "\n\nWould you like detailed steps for any of these quests?";
            
            addMessage(response, 'ai');
        }

        function showOnchainSummerResponse() {
            const response = `**Onchain Summer 2025** is Base's flagship seasonal event that runs from June to August 2025! ðŸŒž\n\n` +
                `â€¢ **What it is**: A 3-month celebration of onchain activity with exclusive quests, rewards, and community events\n` +
                `â€¢ **How to participate**: Complete daily/weekly quests across DeFi, NFTs, and social activities\n` +
                `â€¢ **Rewards**: Limited edition NFTs, token airdrops, and exclusive access to Base ecosystem events\n` +
                `â€¢ **Current focus**: Building your onchain reputation through meaningful interactions\n\n` +
                `Want me to show you the current Onchain Summer quests you can join?`;
            
            addMessage(response, 'ai');
        }

        function showTrendingProjectsResponse() {
            const projects = [
                { name: "Aerodrome Finance", category: "DEX/AMM", tvl: "$450M" },
                { name: "BaseSwap", category: "DEX", tvl: "$120M" },
                { name: "Morpho", category: "Lending", tvl: "$85M" },
                { name: "Friend.tech", category: "Social", users: "250K+" }
            ];
            
            let response = "Here are trending Base projects today:\n\n";
            projects.forEach(project => {
                response += `â€¢ **${project.name}** - ${project.category}\n`;
                if (project.tvl) response += `  TVL: ${project.tvl}\n`;
                if (project.users) response += `  Users: ${project.users}\n`;
                response += "\n";
            });
            response += "Interested in learning more about any of these projects?";
            
            addMessage(response, 'ai');
        }

        function showExplanationResponse() {
            const response = "I can explain various Base ecosystem concepts! Here are some popular topics:\n\n" +
                "â€¢ **Base Network**: Coinbase's Layer 2 built on Ethereum using OP Stack\n" +
                "â€¢ **OP Stack**: The open-source framework that powers Base and other L2s\n" +
                "â€¢ **Gas Fees**: Much lower than Ethereum mainnet (typically $0.01-$0.10)\n" +
                "â€¢ **Bridging**: Move assets from Ethereum to Base using official bridge\n" +
                "â€¢ **DeFi on Base**: High-yield opportunities with lower transaction costs\n\n" +
                "What specific topic would you like me to explain in detail?";
            
            addMessage(response, 'ai');
        }
    </script>
</body>
</html>

